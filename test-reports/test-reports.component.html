@if (isTestprojectSelected) {
  <xc-master-detail [xc-master-detail-opened]="dsTestReportEdit !== null">
    <xc-panel master>
      <header>
        <h2 xc-i18n>Test Report</h2>
        <div class="items-right">
          <xc-button (click)="refreshTestReports()">Refresh Data</xc-button>
          <xc-icon-button (click)="refresh()" xc-icon-name="reload" xc-icon-style="xds" xc-tooltip="Refresh" xc-i18n></xc-icon-button>
        </div>
      </header>
      <section class="stretch scroll">
        <xc-table [xc-table-datasource]="dsTestReport" xc-table-allowsort xc-table-allowfilter xc-table-allowselect
          xc-table-lazyupdate xc-i18n
        ></xc-table>
        @if (!!dsTestReport.requestErrorMessage) {
          <div class="info-box" xc-i18n>
                There is no Workflow defined for this table. To see data here, at least the TableInfo-Workflow 'xdev.xtestfactory.infrastructure.gui.GetTestReports' has to be created.
            </div>
        }
      </section>
      <footer>
        <div class="items-right">
        </div>
      </footer>
    </xc-panel>
    <xc-panel detail>
      @if (dsTestReportEdit !== null) {
        <section class="stretch scroll">
          <xc-tree [xc-tree-datasource]="dsTestReportTree" xc-tree-autoexpand="first"></xc-tree>
        </section>
      }
      <footer>
        <div class="items-left">
          <xc-button (click)="close()">Cancel</xc-button>
        </div>
        <div class="items-right">
          <xc-button (click)="export()" [busy]="exporting" [disabled]="exporting" color="normal" xc-i18n>CSV Export</xc-button>
          <xc-button (click)="save()" color="primary" xc-i18n>Save</xc-button>
        </div>
      </footer>
    </xc-panel>
  </xc-master-detail>
}